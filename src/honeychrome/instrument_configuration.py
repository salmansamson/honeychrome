'''
This is the default configuration for the instrument driver
'''

# define traces cache
max_events_in_traces_cache = 100_000
n_channels_trace = 16
adc_rate = 2.5  # [MHz]
max_event_time = 20  # [us]
n_time_points_in_event = int(adc_rate * max_event_time)
bytes_per_value = 2
dtype = 'uint16'
trace_n_points = n_channels_trace * n_time_points_in_event
traces_cache_size = max_events_in_traces_cache * trace_n_points  # e.g. 160_000_000 for 100_000 events, 16 channels, 20 us --> 50 time points, 2 bytes per value

# FGPA and communication settings
operation_register = b'\x01'
operation_memory = b'\x02'
dummy_bytes = b'\x00\x00'
memory_start_address = 0
memory_end_address = 1_000_000
transfer_target_repeat_time = 0.05 #s

registers_map = {
    'ENABLES': 0x0010,
    'PMP_SMP_SPD': 0x0011,
    'PMP_SHT_SPD': 0x0012,
    'MISC': 0x0015,
    'STATUS': 0x0018,
    'INTERLOCK': 0x0020,
    'DEBUG': 0x0024,
    'CAPTURE_CTL': 0x0030,
    'CAPTURE_STAT': 0x0031,
    'CAPTURE_LVL_U': 0x0032,
    'CAPTURE_LVL_H': 0x0033,
    'CAPTURE_LVL_L': 0x0034,
    'PRES_SNS_H': 0x0040,
    'PRES_SNS_L': 0x0041,
    'TEMP_MB_H': 0x0050,
	'TEMP_MB_L': 0x0051,
	'TEMP_FSC_H': 0x0052,
	'TEMP_FSC_L': 0x0053,
	'TEMP_SSC_H': 0x0054,
	'TEMP_SSC_L': 0x0055,
	'TEMP_SIPM_H': 0x0056,
	'TEMP_SIPM_L': 0x0057,
	'FP_KEYS': 0x0060,
	'FP_KEYS_LATCH': 0x0061,
	'FP_DISPLAY': 0x0063,
	'MEM_ADDR_U': 0x0070,
	'MEM_ADDR_H': 0x0071,
	'MEM_ADDR_L': 0x0072,
	'MEM_DATA_RD': 0x0073,
	'MEM_DATA_WR' :0x0074,
	'MEM_CTL': 0x0075,
    'DAC_CH_0_H':	0x0080	,
    'DAC_CH_0_L':	0x0081	,
    'DAC_CH_1_H':	0x0082	,
    'DAC_CH_1_L':	0x0083	,
    'DAC_CH_2_H':	0x0084	,
    'DAC_CH_2_L':	0x0085	,
    'DAC_CH_3_H':	0x0086	,
    'DAC_CH_3_L':	0x0087	,
    'DAC_CH_4_H':	0x0088	,
    'DAC_CH_4_L':	0x0089	,
    'DAC_CH_5_H':	0x008A	,
    'DAC_CH_5_L':	0x008B	,
    'DAC_CH_6_H':	0x008C	,
    'DAC_CH_6_L':	0x008D	,
    'DAC_CH_7_H':	0x008E	,
    'DAC_CH_7_L':	0x008F	,
    'DAC_CH_8_H':	0x0090	,
    'DAC_CH_8_L':	0x0091	,
    'DAC_CH_9_H':	0x0092	,
    'DAC_CH_9_L':	0x0093	,
    'DAC_CH_10_H':	0x0094	,
    'DAC_CH_10_L':	0x0095	,
    'DAC_CH_11_H':	0x0096	,
    'DAC_CH_11_L':	0x0097	,
    'DAC_CH_12_H':	0x0098	,
    'DAC_CH_12_L':	0x0099	,
    'DAC_CH_13_H':	0x009A	,
    'DAC_CH_13_L':	0x009B	,
    'DAC_CH_14_H':	0x009C	,
    'DAC_CH_14_L':	0x009D	,
    'DAC_CH_15_H':	0x009E	,
    'DAC_CH_15_L':	0x009F	,
    'DAC_CH_16_H':	0x00A0	,
    'DAC_CH_16_L':	0x00A1	,
    'DAC_CH_17_H':	0x00A2	,
    'DAC_CH_17_L':	0x00A3	,
    'DAC_CH_18_H':	0x00A4	,
    'DAC_CH_18_L':	0x00A5	,
    'DAC_CH_19_H':	0x00A6	,
    'DAC_CH_19_L':	0x00A7	,
    'DAC_CH_20_H':	0x00A8	,
    'DAC_CH_20_L':	0x00A9	,
    'DAC_CH_21_H':	0x00AA	,
    'DAC_CH_21_L':	0x00AB	,
    'DAC_CH_22_H':	0x00AC	,
    'DAC_CH_22_L':	0x00AD	,
    'DAC_CH_23_H':	0x00AE	,
    'DAC_CH_23_L':	0x00AF	,
    'DAC_CH_24_H':	0x00B0	,
    'DAC_CH_24_L':	0x00B1	,
    'DAC_CH_25_H':	0x00B2	,
    'DAC_CH_25_L':	0x00B3	,
    'DAC_CH_26_H':	0x00B4	,
    'DAC_CH_26_L':	0x00B5	,
    'DAC_CH_27_H':	0x00B6	,
    'DAC_CH_27_L':	0x00B7	,
    'DAC_CH_28_H':	0x00B8	,
    'DAC_CH_28_L':	0x00B9	,
    'DAC_CH_29_H':	0x00BA	,
    'DAC_CH_29_L':	0x00BB	,
    'DAC_CH_30_H':	0x00BC	,
    'DAC_CH_30_L':	0x00BD	,
    'DAC_CH_31_H':	0x00BE	,
    'DAC_CH_31_L':	0x00BF	,
    'MON_0_V_H':	0x00D0	,
    'MON_0_V_L':	0x00D1	,
    'MON_0_I_H':	0x00D2	,
    'MON_0_I_L':	0x00D3	,
    'MON_0_P_H':	0x00D4	,
    'MON_0_P_L':	0x00D5	,
    'MON_1_V_H':	0x00D6	,
    'MON_1_V_L':	0x00D7	,
    'MON_1_I_H':	0x00D8	,
    'MON_1_I_L':	0x00D9	,
    'MON_1_P_H':	0x00DA	,
    'MON_1_P_L':	0x00DB	,
    'MON_2_V_H':	0x00DC	,
    'MON_2_V_L':	0x00DD	,
    'MON_2_I_H':	0x00DE	,
    'MON_2_I_L':	0x00DF	,
    'MON_2_P_H':	0x00E0	,
    'MON_2_P_L':	0x00E1	,
    'MON_3_V_H':	0x00E2	,
    'MON_3_V_L':	0x00E3	,
    'MON_3_I_H':	0x00E4	,
    'MON_3_I_L':	0x00E5	,
    'MON_3_P_H':	0x00E6	,
    'MON_3_P_L':	0x00E7	,
    'MON_4_V_H':	0x00E8	,
    'MON_4_V_L':	0x00E9	,
    'MON_4_I_H':	0x00EA	,
    'MON_4_I_L':	0x00EB	,
    'MON_4_P_H':	0x00EC	,
    'MON_4_P_L':	0x00ED	,
    'MON_5_V_H':	0x00EE	,
    'MON_5_V_L':	0x00EF	,
    'MON_5_I_H':	0x00F0	,
    'MON_5_I_L':	0x00F1	,
    'MON_5_P_H':	0x00F2	,
    'MON_5_P_L':	0x00F3	,
    'MON_7_V_H':	0x00F4	,
    'MON_7_V_L':	0x00F5	,
    'MON_7_I_H':	0x00F6	,
    'MON_7_I_L':	0x00F7	,
    'MON_7_P_H':	0x00F8	,
    'MON_7_P_L':	0x00F9	,
    'MON_8_V_H':	0x00FA	,
    'MON_8_V_L':	0x00FB	,
    'MON_8_I_H':	0x00FC	,
    'MON_8_I_L':	0x00FD	,
    'MON_8_P_H':	0x00FE	,
    'MON_8_P_L':	0x00FF	,
}
